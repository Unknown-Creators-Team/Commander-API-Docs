---
title: calc変数
last_update:
  date: 2024-06-16
  author: Nano
sidebar_position: 200
---

計算結果を代入します。<br />
この変数は v1.14.0 から [!badge size="l" variant="danger" text="パワフル"] になりました。<br />
!!!success パワフル！！！
括弧が使えるようになり、四則演算だけでなく、あらゆる数学関数が使えるようになりました。
!!!

テキストが使用できる場所で以下のように使用します。
```
{calc:式}
```
`式` には四則演算や数学関数を入れることができます。<br />
`式` に `2+3*(4+5)` を入れた場合、以下のように表示されます。
```
29
```

<!-- const operators = {
        "+": (a, b) => a + b,
        "-": (a, b) => a - b,
        "*": (a, b) => a * b,
        "/": (a, b) => a / b,
        "**": (a, b) => Math.pow(a, b),
        sqrt: (a) => Math.sqrt(a),
        sin: (a) => Math.sin(a),
        cos: (a) => Math.cos(a),
        tan: (a) => Math.tan(a),
        asin: (a) => Math.asin(a),
        acos: (a) => Math.acos(a),
        atan: (a) => Math.atan(a),
        abs: (a) => Math.abs(a),
        round: (a) => Math.round(a),
        floor: (a) => Math.floor(a),
        ceil: (a) => Math.ceil(a),
        log10: (a) => Math.log10(a),
        log2: (a) => Math.log2(a),
    };
 -->

式 | 意味 | 優先度 | 例 | 数式 | 出力
--- | --- | --- | --- | --- | ---
\+ | 加算 | 1 | 2+3 | $2 + 3 = 5$ | 5
\- | 減算 | 1 | 2-3 | $2 - 3 = -1$ | -1
\* | 乗算 | 2 | 2*3 | $2 \times 3 = 6$ | 6
/ | 除算 | 2 | 2/3 | $\frac{2}{3} = 0.6666666666666666$ | 0.6666666666666666
** | べき乗 | 3 | 2**3 | $2^3 = 8$ | 8
( | 開き括弧 | 4 | (2+3)*4 | $(2 + 3) \times 4 = 20$ | 20
) | 閉じ括弧 | 4 | (2+3)*4 | $(2 + 3) \times 4 = 20$ | 20
sqrt | 平方根 | 4 | sqrt(9) | $\sqrt{9} = 3$ | 3
sin | 正弦 | 4 | sin(45) | $\sin(45) = 0.8509035245341184$ | 0.8509035245341184
cos | 余弦 | 4 | cos(45) | $\cos(45) = 0.5253219888177297$ | 0.5253219888177297
tan | 正接 | 4 | tan(45) | $\tan(45) = 1.6197751905438615$ | 1.6197751905438615
asin | 逆正弦 | 4 | asin(0.5) | $\sin^{-1}(0.5) = 0.5235987755982989$ | 0.5235987755982989
acos | 逆余弦 | 4 | acos(0.5) | $\cos^{-1}(0.5) = 1.0471975511965979$ | 1.0471975511965979
atan | 逆正接 | 4 | atan(1.5) | $\tan^{-1}(1.5) = 0.982793723247329$ | 0.982793723247329
abs | 絶対値 | 4 | abs(-1) | $|{-1}| = 1$ | 1
round | 四捨五入 | 4 | round(1.5) | $\text{round}(1.5) = 2$ | 2
floor | 切り捨て | 4 | floor(1.5) | $\text{floor}(1.5) = 1$ | 1
ceil | 切り上げ | 4 | ceil(1.5) | $\text{ceil}(1.5) = 2$ | 2
log10 | 常用対数 | 4 | log10(100) | $\log_{10}(100) = 2$ | 2
log2 | 二進対数 | 4 | log2(8) | $\log_{2}(8) = 3$ | 3

!!!warning 小数点の利用
パワフルにはなりましたが、小数の計算はできません。<br />
代わりに、除算（分数）を使用して少数を表現してください。
||| 0.5
`1/2`, `5/10`
||| 0.25
`1/4`, `25/100`
||| 0.125
`1/8`, `125/1000`
||| 0.0625
`1/16`, `625/10000`
|||
!!!


### 例

+++ tell
tellメソッドを使用した例です。
<!-- 直線 -8.51x + 3.68y + 2.49 latexに-->
<!-- 座標 (9.75, -1.87) -->
直線 $-8.51x + 3.68y + 2.49 = 0$ に垂直で座標 $(9.75, -1.87)$ を結ぶ直線の距離を求めます。<br /><br />
式は以下の通りです。<br />
$\frac{|-8.51 \times 9.75 + 3.68 \times -1.87 + 2.49|}{\sqrt{(-8.51)^2 + 3.68^2}}$<br /><br />
グラフは以下の通りです。
<img src="./calc_graph.png" style="padding: 20px;" />
```
/tag @s add "tell:{calc:abs((-851/100)*(975/100) + (368/100)*(-187/100) + (249/100)) / sqrt((-851/100)**2 + (368/100)**2)}"
```
この場合、以下のように表示されます。
```
9.422767787934841
```


<!-- `//` | 切り捨て除算 | `2//3` | `0` -->
<!-- `%` | 剰余 | `2%3` | `2`
`^` | べき乗 | `2^3` | `8` -->