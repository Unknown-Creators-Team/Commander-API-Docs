---
title: "イベント / Event"
last_update:
  date: 2025-11-30
  author: arutaka1220
---

**「イベント」** は、Commander APIがこっそり耳を澄ませて、  
「おっ、今Steveが何かしたな？」と気付いた瞬間に発火する仕組みです。

ここでは「プレイヤーがチャットを送信したとき」の処理フローを、わかりやすく改良して説明します。

### フロー（例 — プレイヤーが「Hello」と送信した場合）
1. プレイヤーがチャットで `Hello` を送信する。  
2. Commander API が該当イベントを検知して処理を開始する。  
3. 送信者にタグを付与する（後続の条件分岐やコマンドで参照可能）。  

| タグ名 | 説明 |
| ---- | ---- |
| `capi:chat` | チャットイベントとしてマーク（汎用フラグ） |
| `chat:Hello` | 送信された文字列そのものを示すタグ（ここでは "Hello"） |

4. 送信者のスコアを更新する（統計や条件判定に利用）。  

| スコアボード名 | スコア値 | 説明 |
| ---- | ---- | ---- |
| `capi:chat_len` | `5` | メッセージ長（`"Hello"` の文字数） |
| `capi:chat_cnt` | `+1` | チャット送信回数を1増加（累計） |

### 補足メモ
- タグはその後のコマンドやルールで簡単に参照できます（例：`execute if entity @s[tag=capi:chat]`）。  
- スコアは統計表示・閾値判定（短文フィルタ、スパム検知など）や実績トリガーに活用できます。 

これで「チャットイベントが検知され → タグ付与 → スコア更新」という一連の流れが、より読みやすく、使いやすく整理されました。